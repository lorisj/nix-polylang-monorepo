version: v2
inputs:
  - directory: proto
plugins:
  # gets plugin from PATH/protoc-gen-es 
  - local: protoc-gen-es
    opt: target=ts
    include_imports: true
    out: generated/ts-grpc
  # uncomment and use later when needing to use grpcweb,
  # more complicated, need to use envoy 
  #- remote: buf.build/grpc/web:v2.0.1
  #  opt: import_style=typescript,mode=grpcwebtext
  #  out: generated/ts-grpc-web
  # gets python plugin from PATH/protoc
  - remote: buf.build/community/danielgtaylor-betterproto:v1.2.5
    out: generated/python-grpc